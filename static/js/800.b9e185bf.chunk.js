"use strict";(self.webpackChunkmovies_app=self.webpackChunkmovies_app||[]).push([[800],{800:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var s=a(791),n=a(434),c=a(294),o=a(748);const l=(e,t)=>async a=>{a((0,o.K4)(!0));try{let s=(await c.Z.get("https://test.create.diagnal.com/data/page".concat(e,".json"))).data.page;a((0,o.bp)(s)),t((e=>e+1))}catch(s){a((0,o.K4)(!1)),console.log(s)}a((0,o.K4)(!1))};var i=a(184);const r=(0,s.lazy)((()=>a.e(577).then(a.bind(a,577)))),d=(0,s.lazy)((()=>a.e(246).then(a.bind(a,246)))),u=(0,s.lazy)((()=>a.e(605).then(a.bind(a,605)))),h=()=>{const[e,t]=(0,s.useState)(1),[a,c]=(0,s.useState)("");const[h,g]=(0,s.useState)([]),v=(0,n.I0)(),{data:m,totalRecords:p,title:f,loading:w}=(0,n.v9)((e=>e.movies)),b=(0,s.useCallback)((async()=>{v(l(e,t))}),[e,v]);(0,s.useEffect)((()=>(v(l(e,t)),()=>{(0,o.Nk)()})),[]),(0,s.useEffect)((()=>{g(m)}),[m]),(0,s.useEffect)((()=>{const e=()=>{if(m.length===+p)return;const{scrollTop:e,clientHeight:t,scrollHeight:a}=document.documentElement;e+t>=a-20&&b()};return window.addEventListener("touchstart",e),()=>{window.removeEventListener("touchstart",e)}}),[m.length,b,p]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r,{title:f,searchValue:a,handleSearch:e=>{const{value:t}=e.target;if(c(t),!t.length)return void g(m);const a=[...m].filter((e=>e.name.toLowerCase().includes(t.toLowerCase())));g(a)}}),(0,i.jsx)("div",{className:"grid-container ",children:(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[null===h||void 0===h?void 0:h.map(((e,t)=>(0,i.jsx)(d,{item:e},t))),w&&(0,i.jsx)(u,{})]})})]})}}}]);
//# sourceMappingURL=800.b9e185bf.chunk.js.map