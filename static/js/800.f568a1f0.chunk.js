"use strict";(self.webpackChunkmovies_app=self.webpackChunkmovies_app||[]).push([[800],{800:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var a=s(791),n=s(434),c=s(294),l=s(748);const o=(e,t)=>async s=>{s((0,l.K4)(!0));try{let a=(await c.Z.get("https://test.create.diagnal.com/data/page".concat(e,".json"))).data.page;s((0,l.bp)(a)),t((e=>e+1))}catch(a){s((0,l.K4)(!1)),console.log(a)}s((0,l.K4)(!1))};var i=s(184);const r=(0,a.lazy)((()=>s.e(577).then(s.bind(s,577)))),d=(0,a.lazy)((()=>s.e(246).then(s.bind(s,246)))),u=(0,a.lazy)((()=>s.e(605).then(s.bind(s,605)))),h=()=>{const[e,t]=(0,a.useState)(1),[s,c]=(0,a.useState)("");const[h,g]=(0,a.useState)([]),v=(0,n.I0)(),{data:m,totalRecords:p,title:f,loading:w}=(0,n.v9)((e=>e.movies)),b=(0,a.useCallback)((async()=>{v(o(e,t))}),[e,v]);(0,a.useEffect)((()=>(v(o(e,t)),()=>{(0,l.Nk)()})),[]),(0,a.useEffect)((()=>{g(m)}),[m]),(0,a.useEffect)((()=>{const e=()=>{if(m.length===+p)return;const{scrollTop:e,clientHeight:t,scrollHeight:s}=document.documentElement;e+t>=s-20&&b()};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[m.length,b,p]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r,{title:f,searchValue:s,handleSearch:e=>{const{value:t}=e.target;if(c(t),!t.length)return void g(m);const s=[...m].filter((e=>e.name.toLowerCase().includes(t.toLowerCase())));g(s)}}),(0,i.jsx)("div",{className:"grid-container ",children:(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[null===h||void 0===h?void 0:h.map(((e,t)=>(0,i.jsx)(d,{item:e},t))),w&&(0,i.jsx)(u,{})]})})]})}}}]);
//# sourceMappingURL=800.f568a1f0.chunk.js.map