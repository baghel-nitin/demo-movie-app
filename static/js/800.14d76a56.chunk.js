"use strict";(self.webpackChunkmovies_app=self.webpackChunkmovies_app||[]).push([[800],{800:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var s=a(791),n=a(434),c=a(294),l=a(748);const o=(e,t)=>async a=>{a((0,l.K4)(!0));try{let s=(await c.Z.get("https://test.create.diagnal.com/data/page".concat(e,".json"))).data.page;a((0,l.bp)(s)),t((e=>e+1))}catch(s){a((0,l.K4)(!1)),console.log(s)}a((0,l.K4)(!1))};var r=a(184);const i=(0,s.lazy)((()=>a.e(577).then(a.bind(a,577)))),d=(0,s.lazy)((()=>a.e(246).then(a.bind(a,246)))),u=(0,s.lazy)((()=>a.e(605).then(a.bind(a,605)))),h=()=>{const[e,t]=(0,s.useState)(1),[a,c]=(0,s.useState)("");const[h,g]=(0,s.useState)([]),p=(0,n.I0)(),{data:v,totalRecords:m,title:f,loading:w}=(0,n.v9)((e=>e.movies)),b=(0,s.useCallback)((async()=>{p(o(e,t))}),[e,p]);(0,s.useEffect)((()=>(p(o(e,t)),()=>{(0,l.Nk)()})),[]),(0,s.useEffect)((()=>{g(v)}),[v]),(0,s.useEffect)((()=>{const e=()=>{if(v.length===+m)return;const{scrollTop:e,clientHeight:t,scrollHeight:a}=document.documentElement;e+t>=a-20&&b()};return window.addEventListener("scroll",e,{capture:!0}),()=>{window.removeEventListener("scroll",e,{capture:!0})}}),[v.length,b,m]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i,{title:f,searchValue:a,handleSearch:e=>{const{value:t}=e.target;if(c(t),!t.length)return void g(v);const a=[...v].filter((e=>e.name.toLowerCase().includes(t.toLowerCase())));g(a)}}),(0,r.jsx)("div",{className:"grid-container ",children:(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[null===h||void 0===h?void 0:h.map(((e,t)=>(0,r.jsx)(d,{item:e},t))),w&&(0,r.jsx)(u,{})]})})]})}}}]);
//# sourceMappingURL=800.14d76a56.chunk.js.map